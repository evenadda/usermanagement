<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper" style="min-height: 792px;">
        <!-- Content Header (Page header) -->
        <section class="content-header">
          <h1>
              Project Name
              <!-- <small>#007612</small> -->
          </h1>
      
          </section>
      
        <!-- Main content -->
        <section class="content">
            <div class="row">
              <div class="col-xs-12">
                <div class="box box-info">
                <div class="box-header with-border">
                        <h3 class="box-title"><i class="glyphicon glyphicon-th-list
                          glyphicon"></i> User List</h3>
                        </div>
                  <div class="box-body">
                      <button (click)="myFunc()" class="btn btn-info pull-right" style="margin-bottom:10px;">
                        <i class="glyphicon glyphicon-plus-sign
                        glyphicon"></i> Add User</button>
                    <table id="user" class="table table-striped  table-bordered table-hover">
                      <thead>
                      <tr>
                        <th>No.</th>
                        <th>Username</th>
                        <th>Name</th>
                        <th>Department</th>
                        <th>Team</th>
                        <th>Branch</th>
                        <th>Email</th>
                        <th>Status</th>
                        <th>Action</th>
                      </tr>
                      </thead>
                      <tbody>
                      <!-- {{departmentArray.deptId}} -->
                      <!-- {{departmentArray[item.deptId]}} -->
                      <!-- {{array.filter(departmentArray => departmentArray.deptId == "001")}} -->
      
                      <tr *ngFor="let item of result; let i = index">
                        <td>{{i+1}}</td>  
                        <td>{{item.userId}}</td>
                        <td>{{item.userName}}</td>
                        <td>{{departmentArray[item.deptId]}}</td>
                        <td>{{teamArray[item.teamId]}}</td>
                        <td>{{branchArray[item.branchId]}}</td>
                        <td>{{item.email}}</td>
                        <td *ngIf="item.activeFlag == 'Y'"><span class="label label-success">Active</span></td>
                        <td *ngIf="item.activeFlag == 'N'"><span class="label label-warning">InActive</span></td>
      
                        <td style="text-align:center;">
                                <button type="button" class="btn btn-info btn-sm btn-flat" (click)="openModal(template,item.userId)">
                                  <i class="glyphicon glyphicon-search"></i>
                                </button>
      
                            <button type="button" class="btn btn-primary btn-sm btn-flat" (click)="onEdit(item.userId)">
                              <i class="glyphicon glyphicon-edit"></i>
                            </button>
      
                           <button type="button" class="btn btn-danger btn-sm btn-flat" (click)="onDelete(item.userId)"><i class="glyphicon glyphicon-remove-sign"></i></button>
                          </td>
                      </tr>                  
      
                              
                      </tbody>
      
                    </table>
      
                  </div>
                  <!-- /.box-body -->
                </div>
                <!-- /.box -->
      
      
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
          </section>
          <!-- /.content -->
      </div>
      
      <ng-template #template>
          <div class="modal-default">
                  <div class="modal-header">
                      <h4 class="modal-title pull-left"><i class="glyphicon glyphicon-user margin-r-5"></i>User Information</h4>
                      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>
                  <div class="modal-body">
                      <div class="box-body">
                          <div class="magin-bottom-5"><strong><i class="fa fa-book margin-r-5"></i> ข้อมูลส่วนตัว</strong></div>
                          <div>Username: <span class="text-muted">{{mData.userId}}</span></div>
                          <div>NameTh: <span class="text-muted">{{mData.userNameTh}}</span></div>
                          <div>NameEn: <span class="text-muted">{{mData.userName}}</span></div>
                          <div>Department: <span class="text-muted">{{departmentArray[mData.deptId]}}</span></div>
                          <div>Team: <span class="text-muted">{{teamArray[mData.teamId]}}</span></div>
                          <div>Branch: <span class="text-muted">{{branchArray[mData.branchId]}}</span></div>
                          <div>Mobile: <span class="text-muted">{{mData.mobile}}</span></div>
                          <div>Phone: <span class="text-muted">{{mData.phone}}</span></div>
                          <div>Email: <span class="text-muted">{{mData.email}}</span></div>
                          <hr>
                          <div class="magin-bottom-5"><strong><i class="fa fa-globe margin-r-5"></i> Social Networks</strong></div>
                          <div><img src="/assets/dist/img/icons/icon-fb.png" alt="" width="20px;" height="20px;"> <span class="text-muted">{{mData.socialNetwork.facebook}}</span></div>
                          <div style="margin-top:5px;"><img src="/assets/dist/img/icons/icon-line.png" alt="" width="20px;" height="20px;"> <span class="text-muted">{{mData.socialNetwork.line}}</span></div>
                          <hr>
          
                          <div class="magin-bottom-5"><strong><i class="fa fa-laptop margin-r-5"></i> Service</strong></div>
          
                          <div style="margin-top:8px;">
                          <span class="label label-danger">iTracker</span>
                          <span class="label label-success">Stock Signal</span>
                          <span class="label label-info">IPO</span>
                          <span class="label label-warning">KYC</span>
                          <span class="label label-primary">SN</span>
                          </div>
          
                          <hr>
          
                          <div class="magin-bottom-5"><strong><i class="fa fa-file-text-o margin-r-5"></i> ข้อมูลการทำงาน</strong></div>
                          <div>วันเริ่มทำงาน: <span class="text-muted">{{resStartWork}}</span></div>
                          <div>วันทำงานวันสุดท้าย: <span class="text-muted">{{resLastWork}}</span></div>
      
                      </div>
                      <!-- /.box-body -->
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-default pull-right" data-dismiss="modal" (click)="modalRef.hide()">Close</button>
                  </div>
          </div>
      </ng-template>
      <ng-template #template2>
              <div class="modal-danger">
                      <div class="modal-content">
                          <div class="modal-header">
                                  <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                                      <span aria-hidden="true">&times;</span>
                                  </button>
                              <h4 class="modal-title"><i class="glyphicon glyphicon-trash"></i> Inactive User</h4>
                          </div>
                          <div class="modal-body">
                              <p>Are you sure you want to inactive user?</p>
                          </div>
                          <div class="modal-footer">
                              <button type="button" class="btn btn-outline">Inactive User</button>
                              <button type="button" class="btn btn-outline" data-dismiss="modal" (click)="modalRef.hide()">Cancel</button>
                          </div>
                      </div>
              </div>
          </ng-template>
      <!-- /.content-wrapper -->